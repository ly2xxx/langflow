{"data":{"edges":[],"nodes":[{"data":{"node":{"template":{"_type":"Component","code":{"type":"code","required":true,"placeholder":"","list":false,"show":true,"multiline":true,"value":"#https://docs.langflow.org/components-custom-components\nfrom langflow.template import Input, Output\nfrom langflow.custom import Component\nfrom langflow.field_typing import Text\nfrom langflow.schema.message import Message\nfrom typing import Dict, Any\n\n\nclass TextAnalyzerComponent(Component):\n    display_name = \"Text Analyzer\"\n    description = \"Analyzes input text and provides basic statistics.\"\n    documentation: str = \"http://docs.langflow.org/components/custom\"\n    icon = \"code\"\n    name = \"TextAnalyzer\"\n    \n    inputs = [\n        # MessageTextInput(\n        #     name=\"input_text\",\n        #     display_name=\"Input Text\",\n        #     field_type=\"Message\",\n        #     required=True,\n        #     placeholder=\"Enter text to analyze\",\n        #     multiline=True,\n        #     info=\"The text you want to analyze.\",\n        #     input_types=[\"Text\"]\n        # ),\n        MessageTextInput(\n                name=\"input_text\",\n                display_name=\"Input Text\",\n                info=\"The text you want to analyze.\",\n                # value=\"Hello, World!\",\n                placeholder=\"Enter text to analyze\",\n                tool_mode=True,\n            ),\n        Input(\n            name=\"include_word_count\",\n            display_name=\"Include Word Count\",\n            field_type=\"bool\",\n            required=False,\n            info=\"Whether to include word count in the analysis.\",\n        ),\n        Input(\n            name=\"perform_sentiment_analysis\",\n            display_name=\"Perform Sentiment Analysis\",\n            field_type=\"bool\",\n            required=False,\n            info=\"Whether to perform basic sentiment analysis.\",\n        ),\n    ]\n\n    outputs = [\n        Output(display_name=\"Analysis Results\", name=\"results\", method=\"analyze_text\"),\n    ]\n\n    def analyze_text(self) -> Message:\n        \"\"\"\n        Analyze the sentiment of the user inputs and return a Message object.\n\n        Returns:\n            Message: A Message object containing the sentiment analysis.\n        \"\"\"\n        # Extract text from the Message object\n        if isinstance(self.input_text, Message):\n            text = self.input_text.text\n        else:\n            text = str(self.input_text)\n\n        results = {\n            \"character_count\": len(text),\n            \"sentence_count\": text.count('.') + text.count('!') + text.count('?')\n        }\n\n        if self.include_word_count:\n            results[\"word_count\"] = len(text.split())\n\n        if self.perform_sentiment_analysis:\n            # Basic sentiment analysis\n            text_lower = text.lower()\n            if \"happy\" in text_lower or \"good\" in text_lower:\n                sentiment = \"positive\"\n            elif \"sad\" in text_lower or \"bad\" in text_lower:\n                sentiment = \"negative\"\n            else:\n                sentiment = \"neutral\"\n\n            results[\"sentiment\"] = sentiment\n\n        # Convert the results dictionary to a formatted string\n        formatted_results = \"\\n\".join([f\"{key}: {value}\" for key, value in results.items()])\n\n        # Return a Message object\n        return Message(text=formatted_results)\n\n    # inputs = [\n    #     MessageTextInput(\n    #         name=\"input_value\",\n    #         display_name=\"Input Value\",\n    #         info=\"This is a custom component Input\",\n    #         value=\"Hello, World!\",\n    #         tool_mode=True,\n    #     ),\n    #     Input(\n    #         name=\"include_word_count\",\n    #         display_name=\"Include Word Count\",\n    #         field_type=\"bool\",\n    #         required=False,\n    #         info=\"Whether to include word count in the analysis.\",\n    #     ),\n    #     Input(\n    #         name=\"perform_sentiment_analysis\",\n    #         display_name=\"Perform Sentiment Analysis\",\n    #         field_type=\"bool\",\n    #         required=False,\n    #         info=\"Whether to perform basic sentiment analysis.\",\n    #     ),\n    # ]\n\n    # outputs = [\n    #     Output(display_name=\"Output\", name=\"output\", method=\"build_output\"),\n    # ]\n\n    def build_output(self) -> Data:\n        data = Data(value=self.input_value)\n        self.status = data\n        return data\n","fileTypes":[],"file_path":"","password":false,"name":"code","advanced":true,"dynamic":true,"info":"","load_from_db":false,"title_case":false},"include_word_count":{"type":"bool","required":false,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","name":"include_word_count","display_name":"Include Word Count","advanced":false,"dynamic":false,"info":"Whether to include word count in the analysis.","load_from_db":false,"title_case":false,"value":true},"input_text":{"tool_mode":true,"trace_as_input":true,"trace_as_metadata":true,"load_from_db":false,"list":false,"required":false,"placeholder":"Enter text to analyze","show":true,"name":"input_text","value":"","display_name":"Input Text","advanced":false,"input_types":["Message"],"dynamic":false,"info":"The text you want to analyze.","title_case":false,"type":"str","_input_type":"MessageTextInput"},"perform_sentiment_analysis":{"type":"bool","required":false,"placeholder":"","list":false,"show":true,"multiline":false,"fileTypes":[],"file_path":"","name":"perform_sentiment_analysis","display_name":"Perform Sentiment Analysis","advanced":false,"dynamic":false,"info":"Whether to perform basic sentiment analysis.","load_from_db":false,"title_case":false,"value":true}},"description":"Analyzes input text and provides basic statistics.","icon":"code","base_classes":["Message"],"display_name":"Text Analyser Tool","documentation":"http://docs.langflow.org/components/custom","custom_fields":{},"output_types":[],"pinned":false,"conditional_paths":[],"frozen":false,"outputs":[{"types":["Tool"],"selected":"Tool","name":"component_as_tool","hidden":null,"display_name":"Toolset","method":"to_toolkit","value":"__UNDEFINED__","cache":true,"required_inputs":null}],"field_order":["input_text","include_word_count","perform_sentiment_analysis"],"beta":false,"legacy":false,"edited":true,"metadata":{},"tool_mode":false,"lf_version":"1.1.1","official":false},"type":"CustomComponent","id":"CustomComponent-rW3wG"},"id":"CustomComponent-rW3wG","position":{"x":0,"y":0},"type":"genericNode"}],"viewport":{"x":1,"y":1,"zoom":1}},"description":"Analyzes input text and provides basic statistics.","name":"Text Analyser Tool","id":"CustomComponent-rW3wG","is_component":true,"last_tested_version":"1.1.1"}